defined_text = {
    name = GetPartyName
    text = {
		trigger = {
            set_temp_variable = { party_val = elections_parties_array^elections_parties_index }
            check_variable = {
                var = party_val
                value = 1
                compare = equals
            }
            has_government = anarchism_ideology
		}
		localization_key = FIND_ANARCHIST_KEY_1
	}
    text = {
		trigger = {
            set_temp_variable = { party_val = elections_parties_array^elections_parties_index }
            check_variable = {
                var = party_val
                value = 2
                compare = equals
            }
            has_government = totalism_ideology
		}
		localization_key = FIND_TOTALISM_KEY_1
	}
    text = {
		trigger = {
            set_temp_variable = { party_val = elections_parties_array^elections_parties_index }
            check_variable = {
                var = party_val
                value = 3
                compare = equals
            }
            has_government = socialism_ideology
		}
		localization_key = FIND_SOCIALISM_KEY_1
	}
    text = {
		trigger = {
            set_temp_variable = { party_val = elections_parties_array^elections_parties_index }
            check_variable = {
                var = party_val
                value = 4
                compare = equals
            }
            has_government = social_democracy_ideology
		}
		localization_key = FIND_SOCIAL_DEMOCRACY_KEY_1
	}
    text = {
		trigger = {
            set_temp_variable = { party_val = elections_parties_array^elections_parties_index }
            check_variable = {
                var = party_val
                value = 5
                compare = equals
            }
            has_government = liberalism_ideology
		}
		localization_key = FIND_LIBERALISM_KEY_1
	}
    text = {
		trigger = {
            set_temp_variable = { party_val = elections_parties_array^elections_parties_index }
            check_variable = {
                var = party_val
                value = 6
                compare = equals
            }
            has_government = conservatism_ideology
		}
		localization_key = FIND_CONSERVATISM_KEY_1
	}
    text = {
		trigger = {
            set_temp_variable = { party_val = elections_parties_array^elections_parties_index }
            check_variable = {
                var = party_val
                value = 7
                compare = equals
            }
            has_government = authoritarianism_ideology
		}
		localization_key = FIND_AUTHORITARIANISM_KEY_1
	}
    text = {
		trigger = {
            set_temp_variable = { party_val = elections_parties_array^elections_parties_index }
            check_variable = {
                var = party_val
                value = 8
                compare = equals
            }
            has_government = ultranationalism_ideology
		}
		localization_key = FIND_ULTRANATIONALISM_KEY_1
	}
	text = {
		trigger = {
            set_temp_variable = { party_val = elections_parties_array^elections_parties_index }
            check_variable = {
                var = party_val
                value = 1
                compare = equals
            }
		}
		localization_key = FIND_ANARCHIST_KEY_2
	}
    text = {
		trigger = {
            set_temp_variable = { party_val = elections_parties_array^elections_parties_index }
            check_variable = {
                var = party_val
                value = 2
                compare = equals
            }
		}
		localization_key = FIND_TOTALISM_KEY_2
	}
    text = {
		trigger = {
            set_temp_variable = { party_val = elections_parties_array^elections_parties_index }
            check_variable = {
                var = party_val
                value = 3
                compare = equals
            }
		}
		localization_key = FIND_SOCIALISM_KEY_2
	}
    text = {
		trigger = {
            set_temp_variable = { party_val = elections_parties_array^elections_parties_index }
            check_variable = {
                var = party_val
                value = 4
                compare = equals
            }
		}
		localization_key = FIND_SOCIAL_DEMOCRACY_KEY_2
	}
    text = {
		trigger = {
            set_temp_variable = { party_val = elections_parties_array^elections_parties_index }
            check_variable = {
                var = party_val
                value = 5
                compare = equals
            }
		}
		localization_key = FIND_LIBERALISM_KEY_2
	}
    text = {
		trigger = {
            set_temp_variable = { party_val = elections_parties_array^elections_parties_index }
            check_variable = {
                var = party_val
                value = 6
                compare = equals
            }
		}
		localization_key = FIND_CONSERVATISM_KEY_2
	}
    text = {
		trigger = {
            set_temp_variable = { party_val = elections_parties_array^elections_parties_index }
            check_variable = {
                var = party_val
                value = 7
                compare = equals
            }
		}
		localization_key = FIND_AUTHORITARIANISM_KEY_2
	}
    text = {
		trigger = {
            set_temp_variable = { party_val = elections_parties_array^elections_parties_index }
            check_variable = {
                var = party_val
                value = 8
                compare = equals
            }
		}
		localization_key = FIND_ULTRANATIONALISM_KEY_2
	}
    text = {
		localization_key = ERROR
	}
}

defined_text = {
    name = GetPartyPopularity
	text = {
		trigger = {
            set_temp_variable = { party_val = elections_parties_array^elections_parties_index }
            check_variable = {
                var = party_val
                value = 1
                compare = equals
            }
		}
		localization_key = [?party_popularity@anarchism_ideology|%0]
	}
    text = {
		trigger = {
            set_temp_variable = { party_val = elections_parties_array^elections_parties_index }
            check_variable = {
                var = party_val
                value = 2
                compare = equals
            }
		}
		localization_key = [?party_popularity@totalism_ideology|%0]
	}
    text = {
		trigger = {
            set_temp_variable = { party_val = elections_parties_array^elections_parties_index }
            check_variable = {
                var = party_val
                value = 3
                compare = equals
            }
		}
		localization_key = [?party_popularity@socialism_ideology|%0]
	}
    text = {
		trigger = {
            set_temp_variable = { party_val = elections_parties_array^elections_parties_index }
            check_variable = {
                var = party_val
                value = 4
                compare = equals
            }
		}
		localization_key = [?party_popularity@social_democracy_ideology|%0]
	}
    text = {
		trigger = {
            set_temp_variable = { party_val = elections_parties_array^elections_parties_index }
            check_variable = {
                var = party_val
                value = 5
                compare = equals
            }
		}
		localization_key = [?party_popularity@liberalism_ideology|%0]
	}
    text = {
		trigger = {
            set_temp_variable = { party_val = elections_parties_array^elections_parties_index }
            check_variable = {
                var = party_val
                value = 6
                compare = equals
            }
		}
		localization_key = [?party_popularity@conservatism_ideology|%0]
	}
    text = {
		trigger = {
            set_temp_variable = { party_val = elections_parties_array^elections_parties_index }
            check_variable = {
                var = party_val
                value = 7
                compare = equals
            }
		}
		localization_key = [?party_popularity@authoritarianism_ideology|%0]
	}
    text = {
		trigger = {
            set_temp_variable = { party_val = elections_parties_array^elections_parties_index }
            check_variable = {
                var = party_val
                value = 8
                compare = equals
            }
		}
		localization_key = [?party_popularity@ultranationalism_ideology|%0]
	}
    text = {
		localization_key = ERROR
	}
}

defined_text = {
    name = GetSeatForecast
    text = {
		trigger = {
            set_temp_variable = { party_val = elections_parties_array^elections_parties_index }
            check_variable = {
                var = party_val
                value = 1
                compare = equals
            }

            set_temp_variable = { anarchist_temp = party_popularity@anarchism_ideology }
            set_temp_variable = { anarchist_curr = parliament_seat_array^0 }
            multiply_temp_variable = { anarchist_temp = parliament_total_seats }
            subtract_from_temp_variable = { anarchist_temp = anarchist_curr }
            round_temp_variable = anarchist_temp

            set_temp_variable = { totalist_temp = party_popularity@totalism_ideology }
            set_temp_variable = { totalist_curr = parliament_seat_array^1 }
            multiply_temp_variable = { totalist_temp = parliament_total_seats }
            subtract_from_temp_variable = { totalist_temp = totalist_curr }
            round_temp_variable = totalist_temp

            set_temp_variable = { socialist_temp = party_popularity@socialism_ideology }
            set_temp_variable = { socialist_curr = parliament_seat_array^2 }
            multiply_temp_variable = { socialist_temp = parliament_total_seats }
            subtract_from_temp_variable = { socialist_temp = socialist_curr }
            round_temp_variable = socialist_temp

            set_temp_variable = { social_democrat_temp = party_popularity@social_democracy_ideology }
            set_temp_variable = { social_democrat_curr = parliament_seat_array^3 }
            multiply_temp_variable = { social_democrat_temp = parliament_total_seats }
            subtract_from_temp_variable = { social_democrat_temp = social_democrat_curr }
            round_temp_variable = social_democrat_temp

            set_temp_variable = { liberal_temp = party_popularity@liberalism_ideology }
            set_temp_variable = { liberal_curr = parliament_seat_array^4 }
            multiply_temp_variable = { liberal_temp = parliament_total_seats }
            subtract_from_temp_variable = { liberal_temp = liberal_curr }
            round_temp_variable = liberal_temp

            set_temp_variable = { conservative_temp = party_popularity@conservatism_ideology }
            set_temp_variable = { conservative_curr = parliament_seat_array^5 }
            multiply_temp_variable = { conservative_temp = parliament_total_seats }
            subtract_from_temp_variable = { conservative_temp = conservative_curr }
            round_temp_variable = conservative_temp

            set_temp_variable = { authoritarian_temp = party_popularity@authoritarianism_ideology }
            set_temp_variable = { authoritarian_curr = parliament_seat_array^6 }
            multiply_temp_variable = { authoritarian_temp = parliament_total_seats }
            subtract_from_temp_variable = { authoritarian_temp = authoritarian_curr }
            round_temp_variable = authoritarian_temp

            set_temp_variable = { ultranationalist_temp = party_popularity@ultranationalism_ideology }
            set_temp_variable = { ultranationalist_curr = parliament_seat_array^7 }
            multiply_temp_variable = { ultranationalist_temp = parliament_total_seats }
            subtract_from_temp_variable = { ultranationalist_temp = ultranationalist_curr }
            round_temp_variable = ultranationalist_temp

            check_variable = {
                var = anarchist_temp
                value = 0
                compare = not_equals
            }
		}
		localization_key = ANARCHIST_SEATS_KEY
	}
    text = {
		trigger = {
            set_temp_variable = { party_val = elections_parties_array^elections_parties_index }
            check_variable = {
                var = party_val
                value = 2
                compare = equals
            }

            check_variable = {
                var = totalist_temp
                value = 0
                compare = not_equals
            }
		}
		localization_key = TOTALIST_SEATS_KEY
	}
    text = {
		trigger = {
            set_temp_variable = { party_val = elections_parties_array^elections_parties_index }
            check_variable = {
                var = party_val
                value = 3
                compare = equals
            }

            check_variable = {
                var = socialist_temp
                value = 0
                compare = not_equals
            }
		}
		localization_key = SOCIALIST_SEATS_KEY
	}
    text = {
		trigger = {
            set_temp_variable = { party_val = elections_parties_array^elections_parties_index }
            check_variable = {
                var = party_val
                value = 4
                compare = equals
            }

            check_variable = {
                var = social_democrat_temp
                value = 0
                compare = not_equals
            }
		}
		localization_key = SOCIAL_DEMOCRAT_SEATS_KEY
	}
    text = {
		trigger = {
            set_temp_variable = { party_val = elections_parties_array^elections_parties_index }
            check_variable = {
                var = party_val
                value = 5
                compare = equals
            }

            check_variable = {
                var = liberal_temp
                value = 0
                compare = not_equals
            }
		}
		localization_key = LIBERAL_SEATS_KEY
	}
    text = {
		trigger = {
            set_temp_variable = { party_val = elections_parties_array^elections_parties_index }
            check_variable = {
                var = party_val
                value = 6
                compare = equals
            }

            check_variable = {
                var = conservative_temp
                value = 0
                compare = not_equals
            }
		}
		localization_key = CONSERVATIVE_SEATS_KEY
	}
    text = {
		trigger = {
            set_temp_variable = { party_val = elections_parties_array^elections_parties_index }
            check_variable = {
                var = party_val
                value = 7
                compare = equals
            }

            check_variable = {
                var = authoritarian_temp
                value = 0
                compare = not_equals
            }
		}
		localization_key = AUTHORITARIAN_SEATS_KEY
	}
    text = {
		trigger = {
            set_temp_variable = { party_val = elections_parties_array^elections_parties_index }
            check_variable = {
                var = party_val
                value = 8
                compare = equals
            }

            check_variable = {
                var = ultranationalist_temp
                value = 0
                compare = not_equals
            }
		}
		localization_key = ULTRANATIONALIST_SEATS_KEY
	}
    text = {
		localization_key = SHOW_NOTHING
	}
}

defined_text = {
    name = GetSeatResults
    text = {
		trigger = {
            set_temp_variable = { party_val = elections_parties_array^elections_parties_index }
            check_variable = {
                var = party_val
                value = 1
                compare = equals
            }

            set_temp_variable = { anarchist_results_temp = anarchist_temp }
            add_to_temp_variable = { anarchist_results_temp = parliament_seat_array^0 }
            round_temp_variable = anarchist_results_temp

            set_temp_variable = { totalist_results_temp = totalist_temp }
            add_to_temp_variable = { totalist_results_temp = parliament_seat_array^1 }
            round_temp_variable = totalist_results_temp

            set_temp_variable = { socialist_results_temp = socialist_temp }
            add_to_temp_variable = { socialist_results_temp = parliament_seat_array^2 }
            round_temp_variable = socialist_results_temp

            set_temp_variable = { social_democrat_results_temp = social_democrat_temp }
            add_to_temp_variable = { social_democrat_results_temp = parliament_seat_array^3 }
            round_temp_variable = social_democrat_results_temp

            set_temp_variable = { liberal_results_temp = liberal_temp }
            add_to_temp_variable = { liberal_results_temp = parliament_seat_array^4 }
            round_temp_variable = liberal_results_temp

            set_temp_variable = { conservative_results_temp = conservative_temp }
            add_to_temp_variable = { conservative_results_temp = parliament_seat_array^5 }
            round_temp_variable = conservative_results_temp

            set_temp_variable = { authoritarian_results_temp = authoritarian_temp }
            add_to_temp_variable = { authoritarian_results_temp = parliament_seat_array^6 }
            round_temp_variable = authoritarian_results_temp

            set_temp_variable = { ultranationalist_results_temp = ultranationalist_temp }
            add_to_temp_variable = { ultranationalist_results_temp = parliament_seat_array^7 }
            round_temp_variable = ultranationalist_results_temp
		}
		localization_key = [?anarchist_results_temp|0]
	}
    text = {
		trigger = {
            set_temp_variable = { party_val = elections_parties_array^elections_parties_index }
            check_variable = {
                var = party_val
                value = 2
                compare = equals
            }
		}
		localization_key = [?totalist_results_temp|0]
	}
    text = {
		trigger = {
            set_temp_variable = { party_val = elections_parties_array^elections_parties_index }
            check_variable = {
                var = party_val
                value = 3
                compare = equals
            }
		}
		localization_key = [?socialist_results_temp|0]
	}
    text = {
		trigger = {
            set_temp_variable = { party_val = elections_parties_array^elections_parties_index }
            check_variable = {
                var = party_val
                value = 4
                compare = equals
            }
		}
		localization_key = [?social_democrat_results_temp|0]
	}
    text = {
		trigger = {
            set_temp_variable = { party_val = elections_parties_array^elections_parties_index }
            check_variable = {
                var = party_val
                value = 5
                compare = equals
            }
		}
		localization_key = [?liberal_results_temp|0]
	}
    text = {
		trigger = {
            set_temp_variable = { party_val = elections_parties_array^elections_parties_index }
            check_variable = {
                var = party_val
                value = 6
                compare = equals
            }
		}
		localization_key = [?conservative_results_temp|0]
	}
    text = {
		trigger = {
            set_temp_variable = { party_val = elections_parties_array^elections_parties_index }
            check_variable = {
                var = party_val
                value = 7
                compare = equals
            }
		}
		localization_key = [?authoritarian_results_temp|0]
	}
    text = {
		trigger = {
            set_temp_variable = { party_val = elections_parties_array^elections_parties_index }
            check_variable = {
                var = party_val
                value = 8
                compare = equals
            }
		}
		localization_key = [?ultranationalist_results_temp|0]
	}
    text = {
		localization_key = ERROR
	}
}

defined_text = {
    name = GetLeadingParty
    text = {
		trigger = {
            set_temp_variable = { party_val = elections_parties_array^elections_parties_index }
            check_variable = {
                var = party_val
                value = 1
                compare = equals
            }

            check_variable = {
                var = anarchist_results_temp
                value = totalist_results_temp
                compare = greater_than_or_equals
            }
            check_variable = {
                var = anarchist_results_temp
                value = socialist_results_temp
                compare = greater_than_or_equals
            }
            check_variable = {
                var = anarchist_results_temp
                value = social_democrat_results_temp
                compare = greater_than_or_equals
            }
            check_variable = {
                var = anarchist_results_temp
                value = liberal_results_temp
                compare = greater_than_or_equals
            }
            check_variable = {
                var = anarchist_results_temp
                value = conservative_results_temp
                compare = greater_than_or_equals
            }
            check_variable = {
                var = anarchist_results_temp
                value = authoritarian_results_temp
                compare = greater_than_or_equals
            }
            check_variable = {
                var = anarchist_results_temp
                value = ultranationalist_results_temp
                compare = greater_than_or_equals
            }
            print_variables = {
                file = log_file
                text = header_text
                append = yes
                print_global = no
                var_list = { anarchist_results_temp totalist_results_temp socialist_results_temp social_democrat_results_temp liberal_results_temp conservative_results_temp authoritarian_results_temp ultranationalist_results_temp }
            }
		}
		localization_key = BESTOW_CROWN
	}
    text = {
		trigger = {
            set_temp_variable = { party_val = elections_parties_array^elections_parties_index }
            check_variable = {
                var = party_val
                value = 2
                compare = equals
            }

            check_variable = {
                var = totalist_results_temp
                value = anarchist_results_temp
                compare = greater_than_or_equals
            }
            check_variable = {
                var = totalist_results_temp
                value = socialist_results_temp
                compare = greater_than_or_equals
            }
            check_variable = {
                var = totalist_results_temp
                value = social_democrat_results_temp
                compare = greater_than_or_equals
            }
            check_variable = {
                var = totalist_results_temp
                value = liberal_results_temp
                compare = greater_than_or_equals
            }
            check_variable = {
                var = totalist_results_temp
                value = conservative_results_temp
                compare = greater_than_or_equals
            }
            check_variable = {
                var = totalist_results_temp
                value = authoritarian_results_temp
                compare = greater_than_or_equals
            }
            check_variable = {
                var = totalist_results_temp
                value = ultranationalist_results_temp
                compare = greater_than_or_equals
            }
            print_variables = {
                file = log_file2
                text = header_text
                append = yes
                print_global = no
                var_list = { anarchist_results_temp totalist_results_temp socialist_results_temp social_democrat_results_temp liberal_results_temp conservative_results_temp authoritarian_results_temp ultranationalist_results_temp }
            }
		}
		localization_key = BESTOW_CROWN
	}
    text = {
		trigger = {
            set_temp_variable = { party_val = elections_parties_array^elections_parties_index }
            check_variable = {
                var = party_val
                value = 3
                compare = equals
            }

            check_variable = {
                var = socialist_results_temp
                value = anarchist_results_temp
                compare = greater_than_or_equals
            }
            check_variable = {
                var = socialist_results_temp
                value = totalist_results_temp
                compare = greater_than_or_equals
            }
            check_variable = {
                var = socialist_results_temp
                value = social_democrat_results_temp
                compare = greater_than_or_equals
            }
            check_variable = {
                var = socialist_results_temp
                value = liberal_results_temp
                compare = greater_than_or_equals
            }
            check_variable = {
                var = socialist_results_temp
                value = conservative_results_temp
                compare = greater_than_or_equals
            }
            check_variable = {
                var = socialist_results_temp
                value = authoritarian_results_temp
                compare = greater_than_or_equals
            }
            check_variable = {
                var = socialist_results_temp
                value = ultranationalist_results_temp
                compare = greater_than_or_equals
            }
		}
		localization_key = BESTOW_CROWN
	}
    text = {
		trigger = {
            set_temp_variable = { party_val = elections_parties_array^elections_parties_index }
            check_variable = {
                var = party_val
                value = 4
                compare = equals
            }

            check_variable = {
                var = social_democrat_results_temp
                value = anarchist_results_temp
                compare = greater_than_or_equals
            }
            check_variable = {
                var = social_democrat_results_temp
                value = totalist_results_temp
                compare = greater_than_or_equals
            }
            check_variable = {
                var = social_democrat_results_temp
                value = socialist_results_temp
                compare = greater_than_or_equals
            }
            check_variable = {
                var = social_democrat_results_temp
                value = liberal_results_temp
                compare = greater_than_or_equals
            }
            check_variable = {
                var = social_democrat_results_temp
                value = conservative_results_temp
                compare = greater_than_or_equals
            }
            check_variable = {
                var = social_democrat_results_temp
                value = authoritarian_results_temp
                compare = greater_than_or_equals
            }
            check_variable = {
                var = social_democrat_results_temp
                value = ultranationalist_results_temp
                compare = greater_than_or_equals
            }
		}
		localization_key = BESTOW_CROWN
	}
    text = {
		trigger = {
            set_temp_variable = { party_val = elections_parties_array^elections_parties_index }
            check_variable = {
                var = party_val
                value = 5
                compare = equals
            }

            check_variable = {
                var = liberal_results_temp
                value = anarchist_results_temp
                compare = greater_than_or_equals
            }
            check_variable = {
                var = liberal_results_temp
                value = totalist_results_temp
                compare = greater_than_or_equals
            }
            check_variable = {
                var = liberal_results_temp
                value = socialist_results_temp
                compare = greater_than_or_equals
            }
            check_variable = {
                var = liberal_results_temp
                value = social_democrat_results_temp
                compare = greater_than_or_equals
            }
            check_variable = {
                var = liberal_results_temp
                value = conservative_results_temp
                compare = greater_than_or_equals
            }
            check_variable = {
                var = liberal_results_temp
                value = authoritarian_results_temp
                compare = greater_than_or_equals
            }
            check_variable = {
                var = liberal_results_temp
                value = ultranationalist_results_temp
                compare = greater_than_or_equals
            }
		}
		localization_key = BESTOW_CROWN
	}
    text = {
		trigger = {
            set_temp_variable = { party_val = elections_parties_array^elections_parties_index }
            check_variable = {
                var = party_val
                value = 6
                compare = equals
            }

            check_variable = {
                var = conservative_results_temp
                value = anarchist_results_temp
                compare = greater_than_or_equals
            }
            check_variable = {
                var = conservative_results_temp
                value = totalist_results_temp
                compare = greater_than_or_equals
            }
            check_variable = {
                var = conservative_results_temp
                value = socialist_results_temp
                compare = greater_than_or_equals
            }
            check_variable = {
                var = conservative_results_temp
                value = social_democrat_results_temp
                compare = greater_than_or_equals
            }
            check_variable = {
                var = conservative_results_temp
                value = liberal_results_temp
                compare = greater_than_or_equals
            }
            check_variable = {
                var = conservative_results_temp
                value = authoritarian_results_temp
                compare = greater_than_or_equals
            }
            check_variable = {
                var = conservative_results_temp
                value = ultranationalist_results_temp
                compare = greater_than_or_equals
            }
		}
		localization_key = BESTOW_CROWN
	}
    text = {
		trigger = {
            set_temp_variable = { party_val = elections_parties_array^elections_parties_index }
            check_variable = {
                var = party_val
                value = 7
                compare = equals
            }

            check_variable = {
                var = authoritarian_results_temp
                value = anarchist_results_temp
                compare = greater_than_or_equals
            }
            check_variable = {
                var = authoritarian_results_temp
                value = totalist_results_temp
                compare = greater_than_or_equals
            }
            check_variable = {
                var = authoritarian_results_temp
                value = socialist_results_temp
                compare = greater_than_or_equals
            }
            check_variable = {
                var = authoritarian_results_temp
                value = social_democrat_results_temp
                compare = greater_than_or_equals
            }
            check_variable = {
                var = authoritarian_results_temp
                value = liberal_results_temp
                compare = greater_than_or_equals
            }
            check_variable = {
                var = authoritarian_results_temp
                value = conservative_results_temp
                compare = greater_than_or_equals
            }
            check_variable = {
                var = authoritarian_results_temp
                value = ultranationalist_results_temp
                compare = greater_than_or_equals
            }
		}
		localization_key = BESTOW_CROWN
	}
    text = {
		trigger = {
            set_temp_variable = { party_val = elections_parties_array^elections_parties_index }
            check_variable = {
                var = party_val
                value = 8
                compare = equals
            }

            check_variable = {
                var = ultranationalist_results_temp
                value = anarchist_results_temp
                compare = greater_than_or_equals
            }
            check_variable = {
                var = ultranationalist_results_temp
                value = totalist_results_temp
                compare = greater_than_or_equals
            }
            check_variable = {
                var = ultranationalist_results_temp
                value = socialist_results_temp
                compare = greater_than_or_equals
            }
            check_variable = {
                var = ultranationalist_results_temp
                value = social_democrat_results_temp
                compare = greater_than_or_equals
            }
            check_variable = {
                var = ultranationalist_results_temp
                value = liberal_results_temp
                compare = greater_than_or_equals
            }
            check_variable = {
                var = ultranationalist_results_temp
                value = conservative_results_temp
                compare = greater_than_or_equals
            }
            check_variable = {
                var = ultranationalist_results_temp
                value = authoritarian_results_temp
                compare = greater_than_or_equals
            }
		}
		localization_key = BESTOW_CROWN
	}
    text = {
		localization_key = SHOW_NOTHING
	}
}

defined_text = {
    name = GetPartyName
    text = {
		trigger = {
            set_temp_variable = { party_val = elections_parties_array^elections_parties_index }
            check_variable = {
                var = party_val
                value = 1
                compare = equals
            }
            has_government = anarchism_ideology
		}
		localization_key = FIND_ANARCHIST_KEY_1
	}
    text = {
		trigger = {
            set_temp_variable = { party_val = elections_parties_array^elections_parties_index }
            check_variable = {
                var = party_val
                value = 2
                compare = equals
            }
            has_government = totalism_ideology
		}
		localization_key = FIND_TOTALISM_KEY_1
	}
    text = {
		trigger = {
            set_temp_variable = { party_val = elections_parties_array^elections_parties_index }
            check_variable = {
                var = party_val
                value = 3
                compare = equals
            }
            has_government = socialism_ideology
		}
		localization_key = FIND_SOCIALISM_KEY_1
	}
    text = {
		trigger = {
            set_temp_variable = { party_val = elections_parties_array^elections_parties_index }
            check_variable = {
                var = party_val
                value = 4
                compare = equals
            }
            has_government = social_democracy_ideology
		}
		localization_key = FIND_SOCIAL_DEMOCRACY_KEY_1
	}
    text = {
		trigger = {
            set_temp_variable = { party_val = elections_parties_array^elections_parties_index }
            check_variable = {
                var = party_val
                value = 5
                compare = equals
            }
            has_government = liberalism_ideology
		}
		localization_key = FIND_LIBERALISM_KEY_1
	}
    text = {
		trigger = {
            set_temp_variable = { party_val = elections_parties_array^elections_parties_index }
            check_variable = {
                var = party_val
                value = 6
                compare = equals
            }
            has_government = conservatism_ideology
		}
		localization_key = FIND_CONSERVATISM_KEY_1
	}
    text = {
		trigger = {
            set_temp_variable = { party_val = elections_parties_array^elections_parties_index }
            check_variable = {
                var = party_val
                value = 7
                compare = equals
            }
            has_government = authoritarianism_ideology
		}
		localization_key = FIND_AUTHORITARIANISM_KEY_1
	}
    text = {
		trigger = {
            set_temp_variable = { party_val = elections_parties_array^elections_parties_index }
            check_variable = {
                var = party_val
                value = 8
                compare = equals
            }
            has_government = ultranationalism_ideology
		}
		localization_key = FIND_ULTRANATIONALISM_KEY_1
	}
	text = {
		trigger = {
            set_temp_variable = { party_val = elections_parties_array^elections_parties_index }
            check_variable = {
                var = party_val
                value = 1
                compare = equals
            }
		}
		localization_key = FIND_ANARCHIST_KEY_2
	}
    text = {
		trigger = {
            set_temp_variable = { party_val = elections_parties_array^elections_parties_index }
            check_variable = {
                var = party_val
                value = 2
                compare = equals
            }
		}
		localization_key = FIND_TOTALISM_KEY_2
	}
    text = {
		trigger = {
            set_temp_variable = { party_val = elections_parties_array^elections_parties_index }
            check_variable = {
                var = party_val
                value = 3
                compare = equals
            }
		}
		localization_key = FIND_SOCIALISM_KEY_2
	}
    text = {
		trigger = {
            set_temp_variable = { party_val = elections_parties_array^elections_parties_index }
            check_variable = {
                var = party_val
                value = 4
                compare = equals
            }
		}
		localization_key = FIND_SOCIAL_DEMOCRACY_KEY_2
	}
    text = {
		trigger = {
            set_temp_variable = { party_val = elections_parties_array^elections_parties_index }
            check_variable = {
                var = party_val
                value = 5
                compare = equals
            }
		}
		localization_key = FIND_LIBERALISM_KEY_2
	}
    text = {
		trigger = {
            set_temp_variable = { party_val = elections_parties_array^elections_parties_index }
            check_variable = {
                var = party_val
                value = 6
                compare = equals
            }
		}
		localization_key = FIND_CONSERVATISM_KEY_2
	}
    text = {
		trigger = {
            set_temp_variable = { party_val = elections_parties_array^elections_parties_index }
            check_variable = {
                var = party_val
                value = 7
                compare = equals
            }
		}
		localization_key = FIND_AUTHORITARIANISM_KEY_2
	}
    text = {
		trigger = {
            set_temp_variable = { party_val = elections_parties_array^elections_parties_index }
            check_variable = {
                var = party_val
                value = 8
                compare = equals
            }
		}
		localization_key = FIND_ULTRANATIONALISM_KEY_2
	}
    text = {
		localization_key = ERROR
	}
}

defined_text = {
    name = GetElectionTooltip
	text = {
		trigger = {
            has_elections = yes
		}
		localization_key = ELECTIONS_TAB_AVAILABLE
	}
    text = {
		trigger = {
            has_elections = no
		}
		localization_key = ELECTIONS_TAB_NOT_AVAILABLE
	}
    text = {
		localization_key = ERROR
	}
}

defined_text = {
    name = GetElectionDelayedTooltip
	text = {
		trigger = {
            has_elections = yes
		}
		localization_key = ELECTIONS_TAB_DELAYED_AVAILABLE
	}
    text = {
		localization_key = SHOW_NOTHING
	}
}

defined_text = {
    name = GetElectionsIcon
	text = {
		trigger = {
            has_elections = yes
		}
		localization_key = "GFX_icon_elections_button"
	}
    text = {
		localization_key = "GFX_icon_elections_off_button"
	}
}